---
title: shellå…¥é—¨
date: 2022-11-26 00:14:09
author: ä¸‰å²æµªè¿¹å¤©æ¶¯
categories: linux
tags:
  - shell
  - åŸºç¡€
---

## åŸºç¡€çŸ¥è¯†

åœ¨ shell è„šæœ¬ï¼Œ`#!` å‘Šè¯‰ç³»ç»Ÿå…¶åŽè·¯å¾„æ‰€æŒ‡å®šçš„ç¨‹åºå³æ˜¯è§£é‡Šæ­¤è„šæœ¬æ–‡ä»¶çš„ Shell è§£é‡Šå™¨

```bash
#!/bin/bash
```

æ‰§è¡Œshellè„šæœ¬çš„æ–¹å¼ï¼š

```shell
sh /path/to/script.sh
bash /path/to/script.sh
source /path/to/script.sh
./path/to/script.sh
```

ä½¿ç”¨`#ï¼`æ ‡è¯†åŽï¼Œå¦‚æžœæ–‡ä»¶å…·æœ‰å¯æ‰§è¡Œæƒé™ï¼Œå¯ä»¥ç›´æŽ¥é€šè¿‡`path/to/test.sh`æ‰§è¡Œ

## è¾“å‡º

### echo	

```shell
echo -e "YES\c" # -e å¼€å¯è½¬ä¹‰ \c ä¸æ¢è¡Œ
echo "NO"
#  Output:
#  YESNO
```

### printf

```shell
printf "%s %s %s\n" a b c d e f g h i j
#  Output:
#  a b c
#  d e f
#  g h i
#  j
```

## å­—ç¬¦ä¸²

shell å­—ç¬¦ä¸²å¯ä»¥ç”¨å•å¼•å· `''`ï¼Œä¹Ÿå¯ä»¥ç”¨åŒå¼•å· `â€œâ€`ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨å¼•å·ã€‚

- å•å¼•å·çš„ç‰¹ç‚¹
  - å•å¼•å·é‡Œä¸è¯†åˆ«å˜é‡
  - å•å¼•å·é‡Œä¸èƒ½å‡ºçŽ°å•ç‹¬çš„å•å¼•å·ï¼ˆä½¿ç”¨è½¬ä¹‰ç¬¦ä¹Ÿä¸è¡Œï¼‰ï¼Œä½†å¯æˆå¯¹å‡ºçŽ°ï¼Œä½œä¸ºå­—ç¬¦ä¸²æ‹¼æŽ¥ä½¿ç”¨ã€‚
- åŒå¼•å·çš„ç‰¹ç‚¹
  - åŒå¼•å·é‡Œè¯†åˆ«å˜é‡
  - åŒå¼•å·é‡Œå¯ä»¥å‡ºçŽ°è½¬ä¹‰å­—ç¬¦

### å•å¼•å·å’ŒåŒå¼•å·

å½“å±€éƒ¨å˜é‡å’ŒçŽ¯å¢ƒå˜é‡åŒ…å«ç©ºæ ¼æ—¶ï¼Œå®ƒä»¬åœ¨å¼•å·ä¸­çš„æ‰©å±•è¦æ ¼å¤–æ³¨æ„ã€‚éšä¾¿ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚æˆ‘ä»¬ç”¨`echo`æ¥è¾“å‡ºç”¨æˆ·çš„è¾“å…¥ï¼š

```shell
INPUT="A string  with   strange    whitespace."
echo $INPUT   ### A string with strange whitespace.
echo "$INPUT" ### A string  with   strange    whitespace.
```

è°ƒç”¨ç¬¬ä¸€ä¸ª`echo`æ—¶ç»™äº†å®ƒ 5 ä¸ªå•ç‹¬çš„å‚æ•° â€”â€” `$INPUT` è¢«åˆ†æˆäº†å•ç‹¬çš„è¯ï¼Œ`echo`åœ¨æ¯ä¸ªè¯ä¹‹é—´æ‰“å°äº†ä¸€ä¸ªç©ºæ ¼ã€‚ç¬¬äºŒç§æƒ…å†µï¼Œè°ƒç”¨`echo`æ—¶åªç»™äº†å®ƒä¸€ä¸ªå‚æ•°ï¼ˆæ•´ä¸ª$INPUT çš„å€¼ï¼ŒåŒ…æ‹¬å…¶ä¸­çš„ç©ºæ ¼ï¼‰ã€‚

```shell
# ä½¿ç”¨å•å¼•å·æ‹¼æŽ¥
name1='white'
str1='hello, '${name1}''
str2='hello, ${name1}'
echo ${str1}_${str2}
# Output:
# hello, white_hello, ${name1}

# ä½¿ç”¨åŒå¼•å·æ‹¼æŽ¥
name2="black"
str3="hello, "${name2}""
str4="hello, ${name2}"
echo ${str3}_${str4}
# Output:
# hello, black_hello, black
```

### å­—ç¬¦ä¸²å¸¸è§æ“ä½œ

```shell
# èŽ·å–å­—ç¬¦ä¸²é•¿åº¦
text="12345"
echo ${#text}
# Output:
# 5

# æˆªå–å­å­—ç¬¦ä¸²
text="12345"
echo ${text:2:2}
# Output:
# 34

# æŸ¥æ‰¾å­å­—ç¬¦ä¸²
text="hello"
echo `expr index "${text}" ll`

# Execute: ./str-demo5.sh
# Output:
# 3
```

## map

mapåˆ›å»ºæ–¹å¼

```bash
# æ–¹å¼ä¸€
declare -A myMap
myMap["my03"]="03"

# æ–¹å¼äºŒ
declare -A myMap=(["my01"]="01" ["my02"]="02")
```

## æ•°ç»„	

bashåªæ”¯æŒä¸€ç»´æ•°ç»„

### åˆ›å»ºæ•°ç»„

```shell
# åˆ›å»ºæ•°ç»„çš„ä¸åŒæ–¹å¼
nums=([2]=2 [0]=0 [1]=1)
colors=(red yellow "dark blue")
```

### è¾“å‡ºæ•°ç»„æ‰€æœ‰å…ƒç´ 

```shell
echo ${colors[*]}
# Output: red yellow dark blue

echo ${colors[@]}
# Output: red yellow dark blue

printf "+ %s\n" ${colors[*]}
# Output:
# + red
# + yellow
# + dark
# + blue

printf "+ %s\n" "${colors[*]}"
# Output:
# + red yellow dark blue

printf "+ %s\n" "${colors[@]}"
# Output:
# + red
# + yellow
# + dark blue
```

### æ•°ç»„å¸¸è§æ“ä½œ

```shell
# è®¿é—®æ•°ç»„éƒ¨åˆ†å…ƒç´ 
echo ${nums[@]:0:2}

# è®¿é—®æ•°ç»„é•¿åº¦
echo ${#nums[*]}
# Output:
# 3

# å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ 
colors=(white "${colors[@]}" green black)
echo ${colors[@]}
# Output:
# white red yellow dark blue green black

# åˆ é™¤å…ƒç´ 
unset nums[0]
echo ${nums[@]}
# Output:
# 1 2
```

## è¿ç®—ç¬¦

### å…³ç³»è¿ç®—ç¬¦

å…³ç³»è¿ç®—ç¬¦åªæ”¯æŒæ•°å­—ï¼Œä¸æ”¯æŒå­—ç¬¦ä¸²ï¼Œé™¤éžå­—ç¬¦ä¸²çš„å€¼æ˜¯æ•°å­—ã€‚

| è¿ç®—ç¬¦ | è¯´æ˜Ž                                                  | ä¸¾ä¾‹                         |
| ------ | ----------------------------------------------------- | ---------------------------- |
| `-eq`  | æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å›ž trueã€‚                   | `[ $a -eq $b ]`è¿”å›ž falseã€‚  |
| `-ne`  | æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å›ž trueã€‚                 | `[ $a -ne $b ]` è¿”å›ž trueã€‚  |
| `-gt`  | æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºŽå³è¾¹çš„ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚     | `[ $a -gt $b ]` è¿”å›ž falseã€‚ |
| `-lt`  | æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºŽå³è¾¹çš„ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚     | `[ $a -lt $b ]` è¿”å›ž trueã€‚  |
| `-ge`  | æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºŽç­‰äºŽå³è¾¹çš„ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚ | `[ $a -ge $b ]` è¿”å›ž falseã€‚ |
| `-le`  | æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºŽç­‰äºŽå³è¾¹çš„ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚ | `[ $a -le $b ]`è¿”å›ž trueã€‚   |

### å¸ƒå°”è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | è¯´æ˜Ž                                                | ä¸¾ä¾‹                                       |
| ------ | --------------------------------------------------- | ------------------------------------------ |
| `!`    | éžè¿ç®—ï¼Œè¡¨è¾¾å¼ä¸º true åˆ™è¿”å›ž falseï¼Œå¦åˆ™è¿”å›ž trueã€‚ | `[ ! false ]` è¿”å›ž trueã€‚                  |
| `-o`   | æˆ–è¿ç®—ï¼Œæœ‰ä¸€ä¸ªè¡¨è¾¾å¼ä¸º true åˆ™è¿”å›ž trueã€‚           | `[ $a -lt 20 -o $b -gt 100 ]` è¿”å›ž trueã€‚  |
| `-a`   | ä¸Žè¿ç®—ï¼Œä¸¤ä¸ªè¡¨è¾¾å¼éƒ½ä¸º true æ‰è¿”å›ž trueã€‚           | `[ $a -lt 20 -a $b -gt 100 ]` è¿”å›ž falseã€‚ |

### é€»è¾‘è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | è¯´æ˜Ž       | ä¸¾ä¾‹                                            |
| ------ | ---------- | ----------------------------------------------- |
| `&&`   | é€»è¾‘çš„ AND | `[[ ${x} -lt 100 && ${y} -gt 100 ]]` è¿”å›ž false |

### å­—ç¬¦ä¸²è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | è¯´æ˜Ž                                       | ä¸¾ä¾‹                       |
| ------ | ------------------------------------------ | -------------------------- |
| `=`    | æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å›ž trueã€‚    | `[ $a = $b ]` è¿”å›ž falseã€‚ |
| `!=`   | æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å›ž trueã€‚  | `[ $a != $b ]` è¿”å›ž trueã€‚ |
| `-z`   | æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º 0ï¼Œä¸º 0 è¿”å›ž trueã€‚   | `[ -z $a ]` è¿”å›ž falseã€‚   |
| `-n`   | æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º 0ï¼Œä¸ä¸º 0 è¿”å›ž trueã€‚ | `[ -n $a ]` è¿”å›ž trueã€‚    |
| `str`  | æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºè¿”å›ž trueã€‚      | `[ $a ]` è¿”å›ž trueã€‚       |

### æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦

| æ“ä½œç¬¦  | è¯´æ˜Ž                                                         | ä¸¾ä¾‹                        |
| :------ | ------------------------------------------------------------ | --------------------------- |
| -b file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å—è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚              | `[ -b $file ]` è¿”å›ž falseã€‚ |
| -c file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚            | `[ -c $file ]` è¿”å›ž falseã€‚ |
| -d file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚                    | `[ -d $file ]` è¿”å›ž falseã€‚ |
| -f file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æ™®é€šæ–‡ä»¶ï¼ˆæ—¢ä¸æ˜¯ç›®å½•ï¼Œä¹Ÿä¸æ˜¯è®¾å¤‡æ–‡ä»¶ï¼‰ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚ | `[ -f $file ]` è¿”å›ž trueã€‚  |
| -g file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SGID ä½ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚            | `[ -g $file ]` è¿”å›ž falseã€‚ |
| -k file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº†ç²˜ç€ä½(Sticky Bit)ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚  | `[ -k $file ]`è¿”å›ž falseã€‚  |
| -p file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æœ‰åç®¡é“ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚                | `[ -p $file ]` è¿”å›ž falseã€‚ |
| -u file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SUID ä½ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚            | `[ -u $file ]` è¿”å›ž falseã€‚ |
| -r file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯è¯»ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚                      | `[ -r $file ]` è¿”å›ž trueã€‚  |
| -w file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯å†™ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚                      | `[ -w $file ]` è¿”å›ž trueã€‚  |
| -x file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚                    | `[ -x $file ]` è¿”å›ž trueã€‚  |
| -s file | æ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºç©ºï¼ˆæ–‡ä»¶å¤§å°æ˜¯å¦å¤§äºŽ 0ï¼‰ï¼Œä¸ä¸ºç©ºè¿”å›ž trueã€‚    | `[ -s $file ]` è¿”å›ž trueã€‚  |
| -e file | æ£€æµ‹æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueã€‚          | `[ -e $file ]` è¿”å›ž trueã€‚  |

## æŽ§åˆ¶è¯­å¥

[]å’Œ[[]]çš„åŒºåˆ«ï¼š

ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨[[]]ï¼Œå®ƒæ˜¯å†…ç½®åœ¨shellä¸­çš„ä¸€ä¸ªå‘½ä»¤ï¼Œæ”¯æŒå­—ç¬¦ä¸²çš„æ¨¡å¼åŒ¹é…ç­‰ï¼Œæ¯”å¦‚[[ hello == hell? ]]ï¼Œç»“æžœä¸ºçœŸã€‚

### æ¡ä»¶è¯­å¥

ifè¯­å¥

```shell
x=10
y=20
if [[ ${x} > ${y} ]]; then
   echo "${x} > ${y}"
elif [[ ${x} < ${y} ]]; then
   echo "${x} < ${y}"
else
   echo "${x} = ${y}"
fi
# Output: 10 < 20
```

caseè¯­å¥

```shell
exec
case ${oper} in
  "+")
    val=`expr ${x} + ${y}`
    echo "${x} + ${y} = ${val}"
  ;;
  "-")
    val=`expr ${x} - ${y}`
    echo "${x} - ${y} = ${val}"
  ;;
  "*")
    val=`expr ${x} \* ${y}`
    echo "${x} * ${y} = ${val}"
  ;;
  "/")
    val=`expr ${x} / ${y}`
    echo "${x} / ${y} = ${val}"
  ;;
  *)
    echo "Unknown oper!"
  ;;
esac
```



### forå¾ªçŽ¯

forå¾ªçŽ¯çš„å‡ ç§ä½¿ç”¨æ–¹æ³•

```shell
for arg in elem1 elem2 ... elemN
do
  ### è¯­å¥
done

for (( i = 0; i < 10; i++ )); do
  echo $i
done

DIR=/home/zp
for FILE in ${DIR}/*.sh; do
  mv "$FILE" "${DIR}/scripts"
done
# å°† /home/zp ç›®å½•ä¸‹æ‰€æœ‰ sh æ–‡ä»¶æ‹·è´åˆ° /home/zp/scripts
```

### whileå¾ªçŽ¯

```shell
while [[ ${x} -lt 10 ]]; do
  echo $((x * x))
  x=$((x + 1))
done
```

### selectå¾ªçŽ¯

```shell
select answer in elem1 elem2 ... elemN
do
  ### è¯­å¥
done
```

`select`ä¼šæ‰“å°`elem1..elemN`ä»¥åŠå®ƒä»¬çš„åºåˆ—å·åˆ°å±å¹•ä¸Šï¼Œä¹‹åŽä¼šæç¤ºç”¨æˆ·è¾“å…¥ã€‚

```shell
PS3="Choose the package manager: "
select ITEM in bower npm gem pip
do
echo -n "Enter the package name: " && read PACKAGE
case ${ITEM} in
  bower) bower install ${PACKAGE} ;;
  npm) npm install ${PACKAGE} ;;
  gem) gem install ${PACKAGE} ;;
  pip) pip install ${PACKAGE} ;;
esac
break # é¿å…æ— é™å¾ªçŽ¯
done
```

è¿è¡Œè¿™ä¸ªè„šæœ¬ï¼Œä¼šå¾—åˆ°å¦‚ä¸‹è¾“å‡ºï¼š

```shell
$ ./my_script
1) bower
2) npm
3) gem
4) pip
Choose the package manager: 2
Enter the package name: gitbook-cli
```

## å‡½æ•°

```shell
calc(){
  PS3="choose the oper: "
  select oper in + - \* / # ç”Ÿæˆæ“ä½œç¬¦é€‰æ‹©èœå•
  do
  echo -n "enter first num: " && read x # è¯»å–è¾“å…¥å‚æ•°
  echo -n "enter second num: " && read y # è¯»å–è¾“å…¥å‚æ•°
  exec
  case ${oper} in
    "+")
      return $((${x} + ${y}))
    ;;
    "-")
      return $((${x} - ${y}))
    ;;
    "*")
      return $((${x} * ${y}))
    ;;
    "/")
      return $((${x} / ${y}))
    ;;
    *)
      echo "${oper} is not support!"
      return 0
    ;;
  esac
  break
  done
}
calc
echo "the result is: $?" # $? èŽ·å– calc å‡½æ•°è¿”å›žå€¼
```

ðŸ’¡ è¯´æ˜Žï¼š

1. å‡½æ•°å®šä¹‰æ—¶ï¼Œ`function` å…³é”®å­—å¯æœ‰å¯æ— ã€‚
2. å‡½æ•°è¿”å›žå€¼ - return è¿”å›žå‡½æ•°è¿”å›žå€¼ï¼Œè¿”å›žå€¼ç±»åž‹åªèƒ½ä¸ºæ•´æ•°ï¼ˆ0-255ï¼‰ã€‚å¦‚æžœä¸åŠ  return è¯­å¥ï¼Œshell é»˜è®¤å°†ä»¥æœ€åŽä¸€æ¡å‘½ä»¤çš„è¿è¡Œç»“æžœï¼Œä½œä¸ºå‡½æ•°è¿”å›žå€¼ã€‚
3. å‡½æ•°è¿”å›žå€¼åœ¨è°ƒç”¨è¯¥å‡½æ•°åŽé€šè¿‡ `$?` æ¥èŽ·å¾—ã€‚
4. æ‰€æœ‰å‡½æ•°åœ¨ä½¿ç”¨å‰å¿…é¡»å®šä¹‰ã€‚è¿™æ„å‘³ç€å¿…é¡»å°†å‡½æ•°æ”¾åœ¨è„šæœ¬å¼€å§‹éƒ¨åˆ†ï¼Œç›´è‡³ shell è§£é‡Šå™¨é¦–æ¬¡å‘çŽ°å®ƒæ—¶ï¼Œæ‰å¯ä»¥ä½¿ç”¨ã€‚è°ƒç”¨å‡½æ•°ä»…ä½¿ç”¨å…¶å‡½æ•°åå³å¯ã€‚

### ä½ç½®å‚æ•°

**ä½ç½®å‚æ•°**æ˜¯åœ¨è°ƒç”¨ä¸€ä¸ªå‡½æ•°å¹¶ä¼ ç»™å®ƒå‚æ•°æ—¶åˆ›å»ºçš„å˜é‡ã€‚

ä½ç½®å‚æ•°å˜é‡è¡¨ï¼š

| å˜é‡           | æè¿°                           |
| -------------- | ------------------------------ |
| `$0`           | è„šæœ¬åç§°                       |
| `$1 â€¦ $9`      | ç¬¬ 1 ä¸ªåˆ°ç¬¬ 9 ä¸ªå‚æ•°åˆ—è¡¨       |
| `${10} â€¦ ${N}` | ç¬¬ 10 ä¸ªåˆ° N ä¸ªå‚æ•°åˆ—è¡¨        |
| `$*` or `$@`   | é™¤äº†`$0`å¤–çš„æ‰€æœ‰ä½ç½®å‚æ•°       |
| `$#`           | ä¸åŒ…æ‹¬`$0`åœ¨å†…çš„ä½ç½®å‚æ•°çš„ä¸ªæ•° |
| `$FUNCNAME`    | å‡½æ•°åç§°ï¼ˆä»…åœ¨å‡½æ•°å†…éƒ¨æœ‰å€¼ï¼‰   |

```shell
#!/usr/bin/env bash

x=0
if [[ -n $1 ]]; then
  echo "ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š$1"
  x=$1
else
  echo "ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç©º"
fi

y=0
if [[ -n $2 ]]; then
  echo "ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š$2"
  y=$2
else
  echo "ç¬¬äºŒä¸ªå‚æ•°ä¸ºç©º"
fi

paramsFunction(){
  echo "å‡½æ•°ç¬¬ä¸€ä¸ªå…¥å‚ï¼š$1"
  echo "å‡½æ•°ç¬¬äºŒä¸ªå…¥å‚ï¼š$2"
}
paramsFunction ${x} ${y}
```

æ‰§è¡Œç»“æžœï¼š

```
$ ./function-demo2.sh
ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç©º
ç¬¬äºŒä¸ªå‚æ•°ä¸ºç©º
å‡½æ•°ç¬¬ä¸€ä¸ªå…¥å‚ï¼š0
å‡½æ•°ç¬¬äºŒä¸ªå…¥å‚ï¼š0

$ ./function-demo2.sh 10 20
ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š10
ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š20
å‡½æ•°ç¬¬ä¸€ä¸ªå…¥å‚ï¼š10
å‡½æ•°ç¬¬äºŒä¸ªå…¥å‚ï¼š20
```

### å‡½æ•°å¤„ç†å‚æ•°

å¦å¤–ï¼Œè¿˜æœ‰å‡ ä¸ªç‰¹æ®Šå­—ç¬¦ç”¨æ¥å¤„ç†å‚æ•°ï¼š

| å‚æ•°å¤„ç† | è¯´æ˜Ž                                             |
| -------- | ------------------------------------------------ |
| `$#`     | è¿”å›žå‚æ•°ä¸ªæ•°                                     |
| `$*`     | è¿”å›žæ‰€æœ‰å‚æ•°                                     |
| `$       | å‚æ•°å¤„ç†                                         |
| $!       | åŽå°è¿è¡Œçš„æœ€åŽä¸€ä¸ªè¿›ç¨‹çš„ ID å·                   |
| `$@`     | è¿”å›žæ‰€æœ‰å‚æ•°                                     |
| $-       | è¿”å›ž Shell ä½¿ç”¨çš„å½“å‰é€‰é¡¹ï¼Œä¸Ž set å‘½ä»¤åŠŸèƒ½ç›¸åŒã€‚ |
| $?       | å‡½æ•°è¿”å›žå€¼                                       |
